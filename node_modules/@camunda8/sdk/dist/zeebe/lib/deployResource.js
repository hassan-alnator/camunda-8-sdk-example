"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getResourceContentAndName = void 0;
const fs_1 = require("fs");
const isProcess = (maybeProcess // eslint-disable-line @typescript-eslint/no-explicit-any
) => !!maybeProcess.process;
const isProcessFilename = (maybeProcessFilename // eslint-disable-line @typescript-eslint/no-explicit-any
) => !!maybeProcessFilename.processFilename;
const isDecision = (maybeDecision // eslint-disable-line @typescript-eslint/no-explicit-any
) => !!maybeDecision.decision;
const isDecisionFilename = (maybeDecisionFilename // eslint-disable-line @typescript-eslint/no-explicit-any
) => !!maybeDecisionFilename.decisionFilename;
// default fall-through
/* const isForm = ( maybeForm: any ): maybeForm is { form: Buffer; name: string } =>
        !!maybeForm.form
        */
const isFormFilename = (maybeFormFilename // eslint-disable-line @typescript-eslint/no-explicit-any
) => !!maybeFormFilename.formFilename;
function getResourceContentAndName(resource) {
    if (isProcessFilename(resource)) {
        const filename = resource.processFilename;
        const process = (0, fs_1.readFileSync)(filename);
        return { content: process, name: filename };
    }
    else if (isProcess(resource)) {
        return { content: resource.process, name: resource.name };
    }
    else if (isDecisionFilename(resource)) {
        const filename = resource.decisionFilename;
        const decision = (0, fs_1.readFileSync)(filename);
        return { content: decision, name: filename };
    }
    else if (isDecision(resource)) {
        return { content: resource.decision, name: resource.name };
    }
    else if (isFormFilename(resource)) {
        const filename = resource.formFilename;
        const form = (0, fs_1.readFileSync)(filename);
        return { content: form, name: filename };
    } /* if (isForm(resource)) */
    else {
        // default fall-through
        return { content: resource.form, name: resource.name };
    }
}
exports.getResourceContentAndName = getResourceContentAndName;
//# sourceMappingURL=deployResource.js.map